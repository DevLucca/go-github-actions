name: Build
description: Build binaries
inputs:
  path:  
    description: Path to Service
    required: true
 
runs:
  using: 'composite'
  steps:
    - name: Setup Go
      uses: actions/setup-go@v4
      with:
        go-version: 1.18.1

    - name: Build
      shell: bash
      run: |
        cd ${{ inputs.path }}
        make build

    - name: Publish Artifacts
      uses: actions/upload-artifact@v3
      with:
        name: build/${{ inputs.path }}
        path: ${{ inputs.path }}/bin/**
